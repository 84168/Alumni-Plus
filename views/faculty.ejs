<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faculty Portal - Alumni Network</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #333;
        }

        .dashboard {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, #1a202c 0%, #2d3748 100%);
            color: white;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 4px 0 10px rgba(0, 0, 0, 0.1);
        }

        .logo {
            padding: 24px;
            border-bottom: 1px solid #4a5568;
            background: rgba(0, 0, 0, 0.2);
        }

        .logo h2 {
            color: #63b3ed;
            font-size: 22px;
            font-weight: 700;
        }

        .nav-menu {
            padding: 16px 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 14px 24px;
            background: none;
            border: none;
            color: #cbd5e0;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 15px;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-left-color: #63b3ed;
        }

        .nav-item.active {
            background: rgba(49, 130, 206, 0.2);
            color: white;
            border-left-color: #63b3ed;
        }

        .badge {
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(229, 62, 62, 0.3);
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 24px;
            width: calc(100% - 280px);
        }

        .header {
            background: white;
            padding: 24px 32px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            margin-bottom: 24px;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 8px;
        }

        .header span {
            color: #718096;
            font-size: 16px;
        }

        .content-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            margin-bottom: 24px;
        }

        .section-header {
            padding: 20px 24px;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f7fafc;
        }

        .section-header h3 {
            font-size: 20px;
            font-weight: 700;
            color: #2d3748;
        }

        .hidden {
            display: none;
        }

        /* Mentorship Cards */
        .mentorship-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
            padding: 24px;
        }

        .mentorship-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            border: 2px solid transparent;
        }

        .mentorship-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);
            border-color: #3182ce;
        }

        .card-header-status {
            padding: 20px;
            background: linear-gradient(135deg, #3182ce 0%, #2c5aa0 100%);
            color: white;
            position: relative;
        }

        .card-title {
            font-size: 20px;
            font-weight: 700;
            margin: 0 0 8px 0;
        }

        .card-subtitle {
            font-size: 13px;
            opacity: 0.9;
            margin: 0;
        }

        .card-body-content {
            padding: 24px;
        }

        .card-description {
            color: #555;
            line-height: 1.7;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .card-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 20px;
        }

        .detail-item-card {
            background: #f8f9ff;
            padding: 14px;
            border-radius: 10px;
            border: 1px solid #e8ebff;
        }

        .detail-icon-small {
            font-size: 20px;
            margin-bottom: 6px;
        }

        .detail-label-small {
            font-size: 10px;
            text-transform: uppercase;
            color: #8b8b8b;
            font-weight: 600;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .detail-value-small {
            font-size: 14px;
            color: #333;
            font-weight: 600;
        }

        .card-actions {
            display: flex;
            gap: 10px;
            padding-top: 16px;
            border-top: 1px solid #e8ebff;
        }

        .card-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .card-btn-primary {
            background: linear-gradient(135deg, #3182ce 0%, #2c5aa0 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
        }

        .card-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(49, 130, 206, 0.4);
        }

        /* Announcements */
        .announcement-list {
            padding: 24px;
        }

        .announcement-item {
            padding: 24px;
            border-left: 4px solid #3182ce;
            background: #f7fafc;
            margin-bottom: 16px;
            border-radius: 0 8px 8px 0;
            transition: all 0.3s;
        }

        .announcement-item:hover {
            background: #edf2f7;
            transform: translateX(4px);
        }

        .announcement-date {
            color: #3182ce;
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 8px;
        }

        .announcement-title {
            font-weight: 700;
            color: #2d3748;
            font-size: 18px;
            margin-bottom: 8px;
        }

        .announcement-text {
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .announcement-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3182ce, #2c5aa0);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        /* Support Requests */
        .support-grid {
            display: grid;
            gap: 20px;
            padding: 24px;
        }

        .support-item {
            display: flex;
            align-items: flex-start;
            padding: 24px;
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            transition: all 0.3s;
        }

        .support-item:hover {
            background: #edf2f7;
            border-color: #3182ce;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.15);
        }

        .support-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #3182ce 0%, #2c5aa0 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
            font-weight: 700;
            margin-right: 20px;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
        }

        .support-info {
            flex: 1;
        }

        .support-name {
            font-weight: 700;
            color: #2d3748;
            font-size: 18px;
            margin-bottom: 6px;
        }

        .support-title {
            color: #3182ce;
            font-size: 14px;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .support-description {
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 12px;
            font-size: 14px;
        }

        .support-meta {
            display: flex;
            gap: 16px;
            font-size: 13px;
            color: #718096;
        }

        .support-meta span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-assigned {
            background: #bee3f8;
            color: #2c5aa0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                position: relative;
                height: auto;
            }

            .main-content {
                margin-left: 0;
                width: 100%;
            }

            .mentorship-cards-grid {
                grid-template-columns: 1fr;
            }

            .card-details {
                grid-template-columns: 1fr;
            }
        }
        /* Announcement Section Styles */
.content-section {
    background: #ffffff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    border-bottom: 1px solid #e2e8f0;
}

.section-header h3 {
    margin: 0;
    font-size: 20px;
    font-weight: 600;
    color: #1a202c;
}

/* Announcement Cards */
#announcements-section .content-section > div > div {
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    padding: 16px;
    margin-bottom: 16px;
    background: #ffffff;
    transition: box-shadow 0.3s ease;
}

#announcements-section .content-section > div > div:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

#announcements-section h4 {
    margin: 0 0 12px 0;
    font-size: 18px;
    font-weight: 600;
    color: #2d3748;
}

#announcements-section p {
    margin: 8px 0;
    color: #4a5568;
    line-height: 1.6;
}

/* Meta Information */
#announcements-section [id^="meta-"] {
    color: #718096;
    font-size: 14px;
    margin: 8px 0;
}

/* Links Section */
#announcements-section [id^="links-"] {
    margin-top: 12px;
    color: #4a5568;
}

#announcements-section [id^="links-"] ul {
    padding-left: 20px;
    margin: 8px 0;
}

#announcements-section [id^="links-"] li {
    margin: 4px 0;
}

#announcements-section a {
    color: #3182ce;
    text-decoration: none;
    transition: color 0.2s ease;
}

#announcements-section a:hover {
    color: #2c5282;
    text-decoration: underline;
}

/* Buttons */
.btn {
    padding: 8px 16px;
    border: none;
    border-radius: 4px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary {
    background-color: #3182ce;
    color: white;
}

.btn-primary:hover {
    background-color: #2c5282;
}

.btn-success {
    background-color: #48bb78;
    color: white;
}

.btn-success:hover {
    background-color: #38a169;
}

.btn-danger {
    background-color: #f56565;
    color: white;
}

.btn-danger:hover {
    background-color: #e53e3e;
}

.btn-secondary {
    background-color: #a0aec0;
    color: white;
}

.btn-secondary:hover {
    background-color: #718096;
}

.btn-sm {
    padding: 6px 12px;
    font-size: 13px;
}

/* Modal Styles */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.5);
}

.modal.hidden {
    display: none;
}

.modal-content {
    background-color: #ffffff;
    margin: 5% auto;
    padding: 0;
    border-radius: 8px;
    width: 90%;
    max-width: 600px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        transform: translateY(-50px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    border-bottom: 1px solid #e2e8f0;
}

.modal-header h3 {
    margin: 0;
    font-size: 20px;
    font-weight: 600;
    color: #1a202c;
}

.close {
    background: none;
    border: none;
    font-size: 28px;
    font-weight: 300;
    color: #718096;
    cursor: pointer;
    line-height: 1;
    transition: color 0.2s ease;
}

.close:hover {
    color: #2d3748;
}

/* Form Styles */
.form-group {
    margin-bottom: 20px;
    padding: 0 24px;
}

.form-group:first-of-type {
    margin-top: 20px;
}

.form-group:last-of-type {
    margin-bottom: 24px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #2d3748;
    font-size: 14px;
}

.form-control {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #cbd5e0;
    border-radius: 4px;
    font-size: 14px;
    color: #2d3748;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.form-control:focus {
    outline: none;
    border-color: #3182ce;
    box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);
}

textarea.form-control {
    min-height: 120px;
    resize: vertical;
    font-family: inherit;
}

select.form-control {
    cursor: pointer;
}

/* Form Actions */
form > div:last-child {
    padding: 0 24px 24px 24px;
}

form > div:last-child {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
}

/* Edit Mode Styles */
#announcements-section input[id^="edit-title-"] {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 12px;
}

#announcements-section textarea[id^="edit-desc-"] {
    width: 100%;
    min-height: 80px;
    margin: 8px 0;
}

#announcements-section input[id^="edit-date-"],
#announcements-section select[id^="edit-visibility-"] {
    display: inline-block;
    width: auto;
    padding: 4px 8px;
    margin: 0 4px;
}

#announcements-section input[id^="edit-links-"] {
    width: 100%;
    margin-top: 8px;
}

/* Utility Classes */
.hidden {
    display: none !important;
}

/* Responsive Design */
@media (max-width: 768px) {
    .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }
    
    .modal-content {
        width: 95%;
        margin: 10% auto;
    }
    
    form > div:last-child {
        flex-direction: column;
    }
    
    form > div:last-child .btn {
        width: 100%;
    }
}
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h2>Faculty Portal</h2>
            </div>
            <nav class="nav-menu">
                <button class="nav-item active" onclick="showSection('mentorship')">
                    üìö Mentorship Sessions <span class="badge">3</span>
                </button>
                <button class="nav-item" onclick="showSection('announcements')">
                    üì¢ Announcements
                </button>
                <button class="nav-item" onclick="showSection('support')">
                    üë• Assigned Support Requests <span class="badge">3</span>
                </button>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1 id="page-title">Mentorship Sessions</h1>
                <div>
                    <span>Welcome back, Professor</span>
                </div>
            </div>

            <!-- Mentorship Sessions Section -->
            <div id="mentorship-section">
                <div id="sessions-section" >
            <div class="liner">
                <div class="content-section" id="liner">
                    <div style="padding: 24px;">
                        <div
                            style="display: grid; grid-template-rows: repeat(auto-fit, minmax(3px, 1fr)); gap: 16px;">
                            <h3>Scheduled Mentorship Sessions</h3>
                            <div class="mentorship-cards-grid" id="scheduled-container">

                                <% if (scheduledMentorship && scheduledMentorship.length> 0) { %>
                                    <% scheduledMentorship.forEach((schedule)=> { %>
                                        <div class="mentorship-card">
                                            <div class="card-header-status scheduled">
                                                <h4 class="card-title" id="topic-<%=schedule.Session_ID%>">
                                                    <%= schedule.Topic %>
                                                </h4>
                                                <p class="card-subtitle" id="scheduleDate<%=schedule.Session_ID%>">
                                                    Scheduled on <%= new Date(schedule.Created_On).toLocaleDateString()
                                                        %>
                                                </p>
                                            </div>
                                            <div class="card-body-content">
                                                <p class="card-description" id="description-<%=schedule.Session_ID%>">
                                                    <%= schedule.Description %>
                                                </p>

                                                <div class="card-details">
                                                    <div class="detail-item-card">
                                                        <div class="detail-icon-small">üìÖ</div>
                                                        <div class="detail-label-small">Date</div>
                                                        <div class="detail-value-small"
                                                            id="sessionDate-<%=schedule.Session_ID%>">
                                                            <%= new Date(schedule.Session_Date).toLocaleDateString() %>
                                                        </div>
                                                    </div>

                                                    <!-- <div class="detail-item-card">
                                                        <div class="detail-icon-small">üïê</div>
                                                        <div class="detail-label-small">Time</div>
                                                        <div class="detail-value-small">
                                                            <%= schedule.scheduledTime %>
                                                        </div>
                                                    </div> -->

                                                    <div class="detail-item-card">
                                                        <div class="detail-icon-small">‚è±Ô∏è</div>
                                                        <div class="detail-label-small">Duration</div>
                                                        <div class="detail-value-small"
                                                            id="duration-<%=schedule.Session_ID%>">
                                                            <%= schedule.Duration %>
                                                        </div>
                                                    </div>

                                                    <!-- <div class="detail-item-card">
                                                        <div class="detail-icon-small">üë•</div>
                                                        <div class="detail-label-small">Participants</div>
                                                        <div class="detail-value-small">
                                                            <%= schedule.maxParticipants || 'N/A' %>
                                                        </div>
                                                    </div> -->
                                                </div>

                                                <div class="detail-item-card">
                                                    <div class="detail-icon-small">
                                                        <%= schedule.Mode==='Online' ? 'üíª' : 'üìç' %>
                                                    </div>
                                                    <div class="detail-label-small">Mode</div>
                                                    <div class="detail-value-small" id="mode-<%=schedule.Session_ID%>">
                                                        <%= schedule.Mode.charAt(0).toUpperCase() +
                                                            schedule.Mode.slice(1) %>
                                                            <span
                                                                class="card-mode-badge mode-<%= schedule.Mode %>-badge">
                                                                <%= schedule.Mode==='online' ? schedule.platform :
                                                                    schedule.location %>
                                                            </span>
                                                    </div>
                                                </div>

                                                <!-- <div class="card-actions">
                                                    <button class="card-btn card-btn-primary" id="viewscheduledReq-<%=schedule.Session_ID%>"
                                                        onclick="viewDetails('<%= schedule.Session_ID %>')">View
                                                        Details</button>
                                                    <button class="card-btn card-btn-danger" id="deletescheduledReq-<%=schedule.Session_ID%>"
                                                        onclick="cancelSession('<%= schedule.Session_ID %>')">Cancel</button>
                                                </div> -->
                                            </div>
                                        </div>
                                        <% }) %>
                                            <% } else { %>
                                                <div class="empty-state">
                                                    <div class="empty-state-icon">üìÖ</div>
                                                    <h3 class="empty-state-title">No Scheduled Sessions</h3>
                                                    <p class="empty-state-message">You don't have any scheduled
                                                        mentorship sessions at the moment.</p>
                                                </div>
                                                <% } %>
                            </div>
                        </div>
                        <div
                            style="display: grid; grid-template-rows: repeat(auto-fit, minmax(3px, 1fr)); gap: 16px;">
                            <h3>Requested Mentorship Sessions</h3>
                            <div class="mentorship-cards-grid" id="pending-container">
                                <% if (pendingMentorship && pendingMentorship.length> 0) { %>
                                    <% pendingMentorship.forEach((schedule)=> { %>
                                        <div class="mentorship-card">
                                            <div class="card-header-status pending">
                                                <h4 class="card-title" id="pentopic-<%=schedule.Session_ID%>">
                                                    <%= schedule.Topic %>
                                                </h4>
                                                <p class="card-subtitle" id="pencreatedOn-<%=schedule.Session_ID%>">
                                                    Requested on <%= new Date(schedule.Created_On).toLocaleDateString()
                                                        %>
                                                </p>
                                                <p class="card-subtitle" id="penAlumni-<%=schedule.Session_ID%>">
                                                    Alumni : <%=schedule.Alumni %>
                                                </p>
                                            </div>
                                            <div class="card-body-content">
                                                <p class="card-description"
                                                    id="pendescription-<%=schedule.Session_ID%>">
                                                    <%= schedule.Description %>
                                                </p>

                                                <div class="card-details">
                                                    <div class="detail-item-card">
                                                        <div class="detail-icon-small">üìÖ</div>
                                                        <div class="detail-label-small">Date</div>
                                                        <div class="detail-value-small"
                                                            id="pensessionDate-<%=schedule.Session_ID%>">
                                                            <%= new Date(schedule.Session_Date).toLocaleDateString() %>
                                                        </div>
                                                    </div>

                                                    <!-- <div class="detail-item-card">
                                            <div class="detail-icon-small">üïê</div>
                                            <div class="detail-label-small">Time</div>
                                            <div class="detail-value-small"><%= schedule.scheduledTime %></div>
                                        </div> -->

                                                    <div class="detail-item-card">
                                                        <div class="detail-icon-small">‚è±Ô∏è</div>
                                                        <div class="detail-label-small">Duration</div>
                                                        <div class="detail-value-small"
                                                            id="penduration-<%=schedule.Session_ID%>">
                                                            <%= schedule.Duration %>
                                                        </div>
                                                    </div>

                                                    <!-- <div class="detail-item-card">
                                            <div class="detail-icon-small">üë•</div>
                                            <div class="detail-label-small">Participants</div>
                                            <div class="detail-value-small"><%= schedule.maxParticipants || 'N/A' %></div>
                                        </div> -->
                                                </div>

                                                <div class="detail-item-card">
                                                    <div class="detail-icon-small">
                                                        <%= schedule.Mode==='online' ? 'üíª' : 'üìç' %>
                                                    </div>
                                                    <div class="detail-label-small">Mode</div>
                                                    <div class="detail-value-small"
                                                        id="penmode-<%=schedule.Session_ID%>">
                                                        <%= schedule.Mode.charAt(0).toUpperCase() +
                                                            schedule.Mode.slice(1) %>
                                                            <span
                                                                class="card-mode-badge mode-<%= schedule.Mode %>-badge">
                                                                <%= schedule.Mode==='Online' ? schedule.platform :
                                                                    schedule.location %>
                                                            </span>
                                                    </div>
                                                </div>

                                                <!-- <div class="card-actions">
                                                    <button class="card-btn card-btn-success" id="pendingAccept-<%=schedule.Session_ID%>"
                                                        onclick="acceptRequest('<%= schedule.Session_ID %>')">Accept</button>
                                                    <button class="card-btn card-btn-danger" id="pendingReject-<%=schedule.Session_ID%>"
                                                        onclick="rejectRequest('<%= schedule.Session_ID %>')">Reject</button>
                                                </div> -->
                                            </div>
                                        </div>
                                        <% }) %>
                                            <% } else { %>
                                                <div class="empty-state">
                                                    <div class="empty-state-icon">‚è≥</div>
                                                    <h3 class="empty-state-title">No Pending Requests</h3>
                                                    <p class="empty-state-message">You don't have any pending mentorship
                                                        requests.</p>
                                                </div>
                                                <% } %>
                            </div>
                        </div>
                        <div
                            style="display: grid; grid-template-rows: repeat(auto-fit, minmax(3px, 1fr)); gap: 16px;">
                            <h3>Accepted Mentorship Sessions</h3>
                            <div class="mentorship-cards-grid" id="accepted-container">
                                <% if (acceptedMentorship && acceptedMentorship.length> 0) { %>

                                    <% acceptedMentorship.forEach((schedule)=> { %>
                                        <div class="mentorship-card">
                                            <div class="card-header-status accepted">
                                                <h4 class="card-title" id="acctopic-<%=schedule.Session_ID%>">
                                                    <%= schedule.Topic %>
                                                </h4>
                                                <p class="card-subtitle" id="accDate-<%=schedule.Session_ID%>">Accepted
                                                    on <%= new Date(schedule.Created_On).toLocaleDateString() %>
                                                </p> <!-- schedule.acceptedAt || -->
                                                <p class="card-subtitle" id="alumni-<%=schedule.Session_ID%>">Alumni :
                                                    <%=schedule.Alumni%>
                                                </p>
                                            </div>
                                            <div class="card-body-content">
                                                <p class="card-description"
                                                    id="accdescription-<%=schedule.Session_ID%>">
                                                    <%= schedule.Description %>
                                                </p>

                                                <div class="card-details">
                                                    <div class="detail-item-card">
                                                        <div class="detail-icon-small">üìÖ</div>
                                                        <div class="detail-label-small">Date</div>
                                                        <div class="detail-value-small"
                                                            id="accsessionDate-<%=schedule.Session_ID%>">
                                                            <%= new Date(schedule.Session_Date).toLocaleDateString() %>
                                                        </div>
                                                    </div>

                                                    <!-- <div class="detail-item-card">
                                            <div class="detail-icon-small">üïê</div>
                                            <div class="detail-label-small">Time</div>
                                            <div class="detail-value-small"><%= schedule.scheduledTime %></div>
                                        </div> -->

                                                    <div class="detail-item-card">
                                                        <div class="detail-icon-small">‚è±Ô∏è</div>
                                                        <div class="detail-label-small">Duration</div>
                                                        <div class="detail-value-small"
                                                            id="accduration-<%=schedule.Session_ID%>">
                                                            <%= schedule.Duration %>
                                                        </div>
                                                    </div>

                                                    <!-- <div class="detail-item-card">
                                            <div class="detail-icon-small">üë•</div>
                                            <div class="detail-label-small">Participants</div>
                                            <div class="detail-value-small"><%= schedule.maxParticipants || 'N/A' %></div>
                                        </div> -->
                                                </div>

                                                <div class="detail-item-card">
                                                    <div class="detail-icon-small">
                                                        <%= schedule.Mode==='online' ? 'üíª' : 'üìç' %>
                                                    </div>
                                                    <div class="detail-label-small">Mode</div>
                                                    <div class="detail-value-small"
                                                        id="accmode-<%=schedule.Session_ID%>">
                                                        <%= schedule.Mode.charAt(0).toUpperCase() +
                                                            schedule.Mode.slice(1) %>
                                                            <span
                                                                class="card-mode-badge mode-<%= schedule.Mode %>-badge">
                                                                <%= schedule.Mode==='Online' ? schedule.platform :
                                                                    schedule.location %>
                                                            </span>
                                                    </div>
                                                </div>

                                                <div class="card-actions">
                                                    <!-- <button class="card-btn card-btn-primary" id="accDetail-<%=schedule.Session_ID%>"
                                                        onclick="viewDetails('<%= schedule.Session_ID %>')">View
                                                        Details</button> -->
                                                    <button class="card-btn card-btn-primary"
                                                        id="accschedule-<%=schedule.Session_ID%>"
                                                        onclick="ScheduleSession('<%= schedule.Session_ID %>')">Schedule
                                                        Session</button>
                                                </div>
                                            </div>
                                        </div>
                                        <% }) %>
                                            <% } else { %>
                                                <div class="empty-state">
                                                    <div class="empty-state-icon">‚úÖ</div>
                                                    <h3 class="empty-state-title">No Accepted Sessions</h3>
                                                    <p class="empty-state-message">None of Alumni accept any mentorship
                                                        sessions request yet.</p>
                                                </div>
                                                <% } %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            </div>

            <!-- Announcements Section -->
            <!-- Announcements Section -->
                <div id="announcements-section" class="b hidden">
                    <div class="content-section">
                        <div class="section-header">
                            <h3>Post Announcements</h3>
                            <button class="btn btn-primary" onclick="showModal('announcement')">Create
                                Announcement</button>
                        </div>
                        <% announcement.forEach((req)=> { %>
                            <div style="padding: 24px;">
                                <div
                                    style="border: 1px solid #e2e8f0; border-radius: 6px; padding: 16px; margin-bottom: 16px;">

                                    <div id="title-<%= req.ID %>">
                                        <h4>
                                            <%= req.Title %>
                                        </h4>
                                    </div>

                                    <div id="meta-<%= req.ID %>" style="color: #718096; margin: 8px 0;">
                                        üìÖ Posted on <%= req.Posted_On %> ‚Ä¢ üëÅÔ∏è Visible to: <%= req.Visibility %>
                                    </div>

                                    <div id="desc-<%= req.ID %>">
                                        <p>
                                            <%= req.Description %>
                                        </p>
                                    </div>

                                    <% if (req.Attachment_Url) { %>
                                        <p style="margin-top: 12px;">
                                            üìé Attachment:
                                            <a href="<%= req.Attachment_Url %>" target="_blank" style="color: #3182ce;">
                                                View File
                                            </a>
                                        </p>
                                        <% } %>

                                            <% if (req.Important_Links) { const links=req.Important_Links.split(','); %>
                                                <div id="links-<%= req.ID %>" style="margin-top: 12px;">
                                                    üîó Important Links:
                                                    <ul style="padding-left: 20px;">
                                                        <% links.forEach(link=> { %>
                                                            <li>
                                                                <a href="<%= link.trim() %>" target="_blank"
                                                                    style="color: #3182ce;">
                                                                    <%= link.trim() %>
                                                                </a>
                                                            </li>
                                                            <% }) %>
                                                    </ul>
                                                </div>
                                                <% } %>

                                                    <div style="margin-top: 12px;" id="actions-<%= req.ID %>">
                                                        <button class="btn btn-primary btn-sm"
                                                            onclick="editAnnounceCard(`<%= req.ID %>`, `<%= req.Title %>`, `<%= req.Description %>`, `<%= req.Posted_On %>`, `<%= req.Visibility %>`, `<%= req.Important_Links %>`)">
                                                            Edit
                                                        </button>
                                                        <button class="btn btn-danger btn-sm" style="margin-left: 8px;"
                                                            onclick="deleteAnnounceCard(`<%= req.ID %>`)">
                                                            Delete
                                                        </button>
                                                    </div>
                                </div>
                            </div>
                            <% }) %>


                    </div>
                </div>
            </div>
        </div>

        <!-- Modals -->
        <div id="announcement-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Create Announcement</h3>
                    <button class="close" onclick="closeModal('announcement-modal')">&times;</button>
                </div>
                <form id="announcement-form" action="/announcement" method="post" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="title">Title</label>
                        <input type="text" id="title" name="Title" class="form-control" placeholder="Announcement title"
                            required>
                    </div>

                    <div class="form-group">
                        <label for="description">Content</label>
                        <textarea id="description" name="Description" class="form-control"
                            placeholder="Write your announcement..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="important_links">Important Links</label>
                        <input type="text" id="important_links" name="Important_Links" class="form-control"
                            placeholder="Add URLs separated by commas">
                    </div>

                    <div class="form-group">
                        <label for="posted_on">Posted On</label>
                        <input type="date" id="posted_on" name="Posted_On" class="form-control"
                            value="<?= date('Y-m-d') ?>">
                    </div>

                    <div class="form-group">
                        <label for="attachment">Attach PDF or Image</label>
                        <input type="file" id="attachment" name="Attachment_Url" class="form-control"
                            accept=".pdf,image/*">
                    </div>

                    <div class="form-group">
                        <label for="visibility">Visibility</label>
                        <select id="visibility" name="Visibility" class="form-control">
                            <option value="All Users" selected>All Users</option>
                            <option value="Alumni">Alumni Only</option>
                            <option value="Student">Students Only</option>
                            <option value="Faculty">Faculty Only</option>
                        </select>
                    </div>

                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button type="button" class="btn" onclick="closeModal('announcement-modal')">Cancel</button>
                        <button type="submit" class="btn btn-primary">Post
                            Announcement</button>
                    </div>
                </form>
            </div>
        </div>

            <!-- Assigned Support Requests Section -->
            <div id="support-section" class="hidden">
                <div class="content-section">
                    <div class="section-header">
                        <h3>Your Assigned Support Requests</h3>
                    </div>
                    <div class="support-grid">
                        <div class="support-item">
                            <div class="support-avatar">RJ</div>
                            <div class="support-info">
                                <div class="support-name">Rahul Joshi</div>
                                <div class="support-title">Internship Guidance Request</div>
                                <div class="support-description">
                                    Final year student seeking guidance on internship applications at major tech companies. Needs help with resume review, interview preparation, and understanding company culture fit.
                                </div>
                                <div class="support-meta">
                                    <span>üìß rahul.joshi@student.edu</span>
                                    <span>üì± +91 98765-43210</span>
                                    <span class="status-badge status-assigned">Assigned</span>
                                </div>
                            </div>
                        </div>

                        <div class="support-item">
                            <div class="support-avatar">AS</div>
                            <div class="support-info">
                                <div class="support-name">Anita Sharma</div>
                                <div class="support-title">Research Paper Mentorship</div>
                                <div class="support-description">
                                    Third year student working on machine learning research project. Requires guidance on literature review, methodology design, and publication strategies for academic conferences.
                                </div>
                                <div class="support-meta">
                                    <span>üìß anita.sharma@student.edu</span>
                                    <span>üì± +91 98765-43211</span>
                                    <span class="status-badge status-assigned">Assigned</span>
                                </div>
                            </div>
                        </div>

                        <div class="support-item">
                            <div class="support-avatar">VK</div>
                            <div class="support-info">
                                <div class="support-name">Vikram Kumar</div>
                                <div class="support-title">Career Path Consultation</div>
                                <div class="support-description">
                                    Second year student confused between pursuing higher studies or entering the industry. Seeks advice on skill development, industry trends, and long-term career planning in software development.
                                </div>
                                <div class="support-meta">
                                    <span>üìß vikram.kumar@student.edu</span>
                                    <span>üì± +91 98765-43212</span>
                                    <span class="status-badge status-assigned">Assigned</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showSection(sectionName) {
            // Hide all sections
            const sections = ['mentorship', 'announcements', 'support'];
            sections.forEach(section => {
                document.getElementById(section + '-section').classList.add('hidden');
            });

            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected section
            document.getElementById(sectionName + '-section').classList.remove('hidden');

            // Add active class to clicked nav item
            event.target.classList.add('active');

            // Update page title
            const titles = {
                'mentorship': 'Mentorship Sessions',
                'announcements': 'Announcements',
                'support': 'Assigned Support Requests'
            };
            document.getElementById('page-title').textContent = titles[sectionName];
        }


        function showModal(modalType) {
    const modal = document.getElementById(modalType + '-modal');
    modal.classList.remove('hidden');
    modal.style.display = 'block';
}

function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    modal.style.display = 'none';
    modal.classList.add('hidden');
}

// Close modal when clicking outside
window.onclick = function (event) {
    const modals = document.querySelectorAll(".modal");
    modals.forEach(modal => {
        if (event.target === modal) {
            modal.style.display = "none";
            modal.classList.add('hidden');
        }
    });
}

// Edit Announcement Card
function editAnnounceCard(index, title, description, postedOn, visibility, links) {
    // Title
    document.getElementById(`title-${index}`).innerHTML = `
        <input type="text" id="edit-title-${index}" class="form-control" value="${title}" />
    `;

    // Description
    document.getElementById(`desc-${index}`).innerHTML = `
        <textarea id="edit-desc-${index}" class="form-control">${description}</textarea>
    `;

    // Meta (Posted On + Visibility)
    document.getElementById(`meta-${index}`).innerHTML = `
        üìÖ Posted on <input type="date" id="edit-date-${index}" class="form-control" style="display:inline-block; width:auto;" value="${formatDate(postedOn)}" /> ‚Ä¢ 
        üëÅÔ∏è Visible to: 
        <select id="edit-visibility-${index}" class="form-control" style="display:inline-block; width:auto;">
            <option ${visibility === 'All Users' ? 'selected' : ''}>All Users</option>
            <option ${visibility === 'Alumni' ? 'selected' : ''}>Alumni</option>
            <option ${visibility === 'Student' ? 'selected' : ''}>Student</option>
            <option ${visibility === 'Faculty' ? 'selected' : ''}>Faculty</option>
        </select>
    `;

    // Important Links
    document.getElementById(`links-${index}`).innerHTML = `
        üîó Important Links:
        <input type="text" id="edit-links-${index}" class="form-control" value="${links}" placeholder="Comma-separated URLs" />
    `;

    // Replace buttons with Save/Cancel
    document.getElementById(`actions-${index}`).innerHTML = `
        <button class="btn btn-success btn-sm" onclick="saveAnnouncement(${index})">Save</button>
        <button class="btn btn-secondary btn-sm" style="margin-left: 8px;" onclick="cancelEdit(${index})">Cancel</button>
    `;
}

// Helper to format date to yyyy-mm-dd
function formatDate(dateStr) {
    const date = new Date(dateStr);
    const yyyy = date.getFullYear();
    const mm = String(date.getMonth() + 1).padStart(2, '0');
    const dd = String(date.getDate()).padStart(2, '0');
    return `${yyyy}-${mm}-${dd}`;
}

// Save Announcement - Creates form and submits
function saveAnnouncement(index) {
    const form = document.createElement("form");
    form.method = "POST";
    form.action = `/announcement/update/${index}`;
    form.enctype = "multipart/form-data";

    const fields = {
        Title: document.getElementById(`edit-title-${index}`).value,
        Description: document.getElementById(`edit-desc-${index}`).value,
        Posted_On: document.getElementById(`edit-date-${index}`).value,
        Visibility: document.getElementById(`edit-visibility-${index}`).value,
        Important_Links: document.getElementById(`edit-links-${index}`).value
    };

    for (const key in fields) {
        const input = document.createElement("input");
        input.type = "hidden";
        input.name = key;
        input.value = fields[key];
        form.appendChild(input);
    }

    // File input (if exists)
    const fileInput = document.getElementById(`edit-attachment-${index}`);
    if (fileInput && fileInput.files.length > 0) {
        form.appendChild(fileInput.cloneNode(true));
    }
    
    document.body.appendChild(form);
    form.submit();
}

// Cancel Edit - Reload page to revert changes
function cancelEdit(index) {
    location.reload();
}

// Delete Announcement
function deleteAnnounceCard(id) {
    if (confirm('Are you sure you want to delete this announcement?')) {
        const form = document.createElement("form");
        form.method = "POST";
        form.action = `/announcement/delete/${id}`;
        document.body.appendChild(form);
        form.submit();
    }
}

// Optional: Create Announcement (if you need form validation)
function createAnnouncement() {
    // Add any client-side validation here if needed
    return true;
}
    </script>
</body>
</html>